<!doctype html>
{% load static %}
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="{% static 'css/manager.css' %}">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <title>결핵 환자 정보 대쉬보드</title>

  </head>
  <body>
    {% block content %}
    {% endblock %}
    <!-- Optional JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js"></script>
    <script>
      function myFunction() {
      // Declare variables
      var input, filter, ul, li, a, i, txtValue;
      input = document.getElementById('myInput');
      filter = input.value.toUpperCase();
      ul = document.getElementById("myUL");
      li = ul.getElementsByTagName('li');

      // Loop through all list items, and hide those who don't match the search query
      for (i = 0; i < li.length; i++) {
        a = li[i].getElementsByTagName("a")[0];
        txtValue = a.textContent || a.innerText;
        if (txtValue.toUpperCase().indexOf(filter) > -1) {
          li[i].style.display = "";
        } else {
          li[i].style.display = "none";
        }
      }
     }
     document.getElementById("myBar").style.width = "{{p_str}}%";
     document.getElementById("myBar").style.width = "{{cure_progress}}%";

     // chart
     const medi = document.getElementById("myMedication");
     const mediValue = 60;
     var myMedication = new Chart(medi, {
      type: 'doughnut',
      data: {
        datasets: [{
          data: [mediValue, 100-mediValue],
          backgroundColor: ['#2E65F3', '#DCECFB00'],
          borderWidth: 0,
          borderRadius: 10,
        }]
      },
      options: {
        cutout: '75%',
      }
    });

    const sef = document.getElementById("mySideEffectFreq");
    const sefValue = 80;
    var mySideEffectFreq = new Chart(sef, {
      type: 'doughnut',
      data: {
        datasets: [{
          data: [sefValue, 100-sefValue],
          backgroundColor: ['#2E65F3', '#DCECFB00'],
          borderWidth: 0,
          borderRadius: 30,
        }]
      },
      options: {
        cutout: '75%',
      }
    });

    const set = document.getElementById("mySideEffectType");
    const setValue = [40, 20, 20, 20];
    var mySideEffectType = new Chart(set, {
      type: 'doughnut',
      data: {
        datasets: [{
          data: [...setValue],
          backgroundColor: [
            '#2E65F3',
            '#2E65F3CC',
            '#2E65F380',
            '#DCECFB'
          ],
          borderWidth: 0,
          scaleBeginAtZero: true,
        }]
      },
      options: {
        cutout: '75%',
      }
    });
    </script> 
  </body>
</html>
